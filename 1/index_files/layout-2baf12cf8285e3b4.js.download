(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{19687:function(t,e,a){Promise.resolve().then(a.t.bind(a,88003,23)),Promise.resolve().then(a.t.bind(a,5786,23)),Promise.resolve().then(a.t.bind(a,92119,23)),Promise.resolve().then(a.t.bind(a,88568,23)),Promise.resolve().then(a.t.bind(a,96961,23)),Promise.resolve().then(a.bind(a,2012))},25535:function(t,e,a){"use strict";a.d(e,{Ho:function(){return E},aC:function(){return h}});var r=a(2265);let n=(0,r.createContext)({});var o=a(99955),i=a(70804),s=a(5707),c=a(66885),l=a(15050);function u(t){return(0,o.C)((0,i._)((0,s.K)(t),1))}let _=[c.c.Com_Cartao_Inativo_Fatura_Aberta_Com_Senha_Digital,c.c.Com_Cartao_Com_Senha_Digital,c.c.Sem_Cartao_Com_Senha_Digital],m=[c.c.Com_Cartao_Inativo_Fatura_Aberta_Sem_Senha_Digital,c.c.Com_Cartao_Sem_Senha_Digital],d=[c.c.Com_Cartao_Inativo_Bloqueado,c.c.Com_Cartao_Inativo_Fatura_Aberta_Com_Senha_Digital,c.c.Com_Cartao_Inativo_Fatura_Aberta_Sem_Senha_Digital,c.c.Com_Cartao_Sem_Senha_Digital,c.c.Com_Cartao_Com_Senha_Digital];function h(){return(0,r.useContext)(n)}var f=a(57437),p=a(14474),C=a(76533),v=a(43577),g=a(29827),S=a(99376),x=a(57385),b=a(17610),j=a(91923),N={cpfAuthentication:t=>j.f0.post("/autenticacao/api/v2/sem-senha",t),authenticate:t=>j.x3.post("/agregador/api/v2/autenticacao/login",t,{headers:{"X-API-KEY":"oX0}nMmgit+b[b8J*crf"}}),refreshToken:t=>j.x9.post("/agregador/api/v2/autenticacao/refresh-token",t)};let I=(0,C.J)(1),w={user:void 0,isAuthenticated:void 0};function E(t){let{children:e}=t,[a,o]=(0,r.useState)(w),[i,s]=(0,r.useState)({}),h=(0,g.NL)(),C=(0,S.useRouter)(),j=(0,S.usePathname)(),E=(0,r.useCallback)(()=>{h.clear(),(0,b.Z)(),o(w)},[h,o]),F=(0,r.useCallback)(()=>{E(),C.push("/")},[E,C]),y=(0,r.useCallback)(async()=>{let t=localStorage.getItem(x.m.REFRESH_TOKEN);if(t)try{let e=await N.refreshToken({refreshToken:t});if(e.status===v.WE.Ok){let{accessToken:t,refreshToken:a}=e.data.result;localStorage.setItem(x.m.ACCESS_TOKEN,t),localStorage.setItem(x.m.REFRESH_TOKEN,a)}}catch(t){E()}},[E]);(0,r.useEffect)(()=>{let t=setInterval(async()=>{let t=localStorage.getItem(x.m.ACCESS_TOKEN);if(t){let{exp:e}=(0,p.o)(t);e&&u(e)&&y()}},I);return()=>clearInterval(t)},[E,y]),(0,r.useEffect)(()=>{let t=localStorage.getItem(x.m.USER);if(t){let e=JSON.parse(t),a=localStorage.getItem(x.m.ACCESS_TOKEN),r=!1;if(a){let{exp:t}=(0,p.o)(a);!t||(r=!u(t))||y()}o({user:e,isAuthenticated:r})}else E()},[E,y]);let R=(0,r.useCallback)(async(t,e)=>{let{username:a,password:r,callback:n}=t;try{return await N.authenticate({usuario:a,senha:r,tipoAutenticacao:0}).then(t=>{let{accessToken:a,refreshToken:r}=t.data.result;return o(t=>({...t,isAuthenticated:!0})),localStorage.setItem(x.m.ACCESS_TOKEN,a),localStorage.setItem(x.m.REFRESH_TOKEN,r),n&&n(),e&&C.push(e),{isSuccess:!0,errors:[]}})}catch(e){var i;let{response:t}=e;return{isSuccess:!1,errors:null!==(i=null==t?void 0:t.data.errors)&&void 0!==i?i:[]}}},[C]),k=(0,r.useCallback)(async(t,e,a)=>((0,b.Z)(),await N.cpfAuthentication({cpf:t}).then(r=>{let{nome:n,situacaoCliente:i,token:u}=r.data.result,{hasCard:h,...f}=function(t){let e=_.includes(t);return{digitalPasswordAction:m.includes(t)?l.X.Create:l.X.Reset,hasDigitalPassword:e,hasRestrictions:t===c.c.Com_Restricao,hasCard:d.includes(t)}}(i),p={id:t,name:n,status:i,hasCard:h};return(localStorage.setItem(x.m.SIMPLIFIED_ACCESS_TOKEN,u),localStorage.setItem(x.m.USER,JSON.stringify(p)),o({user:p}),s(f),i===c.c.Inexistente)?(j.includes("/criar-conta")||C.push("/criar-conta"),{isSuccess:!1,errors:["Usu\xe1rio n\xe3o encontrado"]}):(f.hasDigitalPassword||a?e&&C.push(e):C.push("/aviso-criar-senha-digital"),{isSuccess:!0,errors:[]})}).catch(t=>{if(t.response){t.response.status===v.WE.Forbidden&&s(t=>({...t,found:!1}));let e=[];return t.response.status===v.WE.BadRequest&&e.push("CPF inv\xe1lido, verifique a digita\xe7\xe3o"),t.response.status>=v.WE.InternalServerError&&e.push("Ocorreu um erro ao realizar login"),{isSuccess:!1,errors:e}}return{isSuccess:!1,errors:[]}})),[C]),P=(0,r.useMemo)(()=>({attempt:R,auth:a,logout:F,login:i,setLogin:s,simplifiedLogin:k}),[R,a,i,F,k]);return(0,f.jsx)(n.Provider,{value:P,children:e})}},20547:function(t,e,a){"use strict";a.d(e,{X:function(){return c}});var r=a(57437),n=a(9270),o=a(90023),i=a(18872),s=a.n(i);function c(t){let{text:e,...a}=t;return(0,r.jsxs)("div",{className:s().wrapper,children:[(0,r.jsx)(n.Root,{...a,className:s().root,children:(0,r.jsx)(n.Indicator,{className:s().indicator,children:(0,r.jsx)(o.Jr,{})})}),!!e&&(0,r.jsx)("p",{children:e})]})}},4501:function(t,e,a){"use strict";a.d(e,{r:function(){return l}});var r=a(57437),n=a(27648),o=a(36760),i=a.n(o),s=a(77023),c=a.n(s);function l(t){let{color:e="default",variant:a="primary",size:o="medium",spinner:s,children:l,className:u,..._}=t,m=i()(u,c().base_button,{[c().color_default]:"default"===e,[c().color_positive]:"positive"===e,[c().color_negative]:"negative"===e,[c().color_white]:"white"===e,[c().variant_primary]:"primary"===a,[c().variant_secondary]:"secondary"===a,[c().variant_ghost]:"ghost"===a,[c().size_small]:"small"===o,[c().size_medium]:"medium"===o,[c().size_large]:"large"===o,[c().spinner]:s});return(0,r.jsx)(n.default,{className:m,..._,children:l})}},87770:function(t,e,a){"use strict";a.d(e,{UQ:function(){return r.Accordion},Ct:function(){return l},zx:function(){return u.z},XZ:function(){return _.X},Vq:function(){return m.Dialog},II:function(){return d.I},rU:function(){return f.r},Sc:function(){return b},tl:function(){return w},WU:function(){return h.PasswordInput},Ex:function(){return y},Ee:function(){return R.RadioGroup},Ph:function(){return k.Select},gx:function(){return D},FN:function(){return z.Toast},OJ:function(){return z.ToastCallerProvider},u:function(){return U},pm:function(){return z.useToast}});var r=a(90535),n=a(57437),o=a(36760),i=a.n(o),s=a(43296),c=a.n(s);function l(t){let{color:e="default",size:a="medium",children:r,className:o,...s}=t,l=i()(o,c().base,{[c().color_default]:"default"===e,[c().color_positive]:"positive"===e,[c().color_negative]:"negative"===e,[c().color_warning]:"warning"===e,[c().color_neutral]:"neutral"===e,[c().size_small]:"small"===a,[c().size_medium]:"medium"===a,[c().size_large]:"large"===a});return(0,n.jsx)("span",{className:l,...s,children:r})}var u=a(5282),_=a(20547),m=a(17803),d=a(35032),h=a(94239),f=a(4501),p=a(27648);a(33145),a(51268);var C=a(22174);a(19762),a(88486),a(51691),C.h2,C.h2,C.h2,C.h2,C.h2;var v=a(2265),g=a(90023),S=a(42947),x=a.n(S);function b(t){let{title:e,appendTitle:a,description:r,breadcrumbs:o,hasActions:s,className:c,children:l,smaller:u,pullOver:_}=t,m=i()(c,x().wrapper,{[x().pull_over]:_,[x().smaller]:u}),d=i()(x().container,{[x().actions]:s});return(0,n.jsx)("header",{className:m,children:(0,n.jsxs)("div",{className:d,children:[(0,n.jsxs)("div",{children:[!!o&&(0,n.jsxs)("div",{className:x().breadcrumb_root,children:[(0,n.jsx)(p.default,{href:"/inicio",children:(0,n.jsx)(g.SK,{})}),o.map(t=>(0,n.jsx)(v.Fragment,{children:t.href?(0,n.jsx)(p.default,{href:t.href,children:t.title}):(0,n.jsx)("p",{children:t.title})},t.title))]}),(0,n.jsxs)("div",{className:x().info,children:[(0,n.jsxs)("h1",{className:x().title,children:[e,null!=a?a:(0,n.jsx)(n.Fragment,{})]}),r&&(0,n.jsx)("p",{className:x().description,children:r})]})]}),l]})})}var j=a(25077),N=a.n(j);function I(t,e){return[...Array(e-t)].map((e,a)=>t+a+1).filter(t=>t>0)}function w(t){let{current:e,total:a,handleChange:r,siblings:o=1}=t,i=e>1?I(e-1-o,e-1):[],s=e<a?I(e,Math.min(e+o,a)):[];return(0,n.jsxs)("div",{className:N().wrapper,children:[(0,n.jsx)(u.z,{variant:"ghost",disabled:1===e,onClick:()=>r(e-1),children:(0,n.jsx)(g.Xd,{})}),e>1+o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.z,{variant:"secondary",onClick:()=>r(1),children:"1"}),e-2-o>0&&(0,n.jsx)(u.z,{variant:"secondary",disabled:!0,children:"..."})]}),i.map(t=>(0,n.jsx)(u.z,{variant:"secondary",onClick:()=>r(t),children:t},t)),(0,n.jsx)(u.z,{className:N().current,onClick:()=>r(e),children:e}),s.map(t=>(0,n.jsx)(u.z,{variant:"secondary",onClick:()=>r(t),children:t},t)),e+o<a&&(0,n.jsxs)(n.Fragment,{children:[e+1+o<a&&(0,n.jsx)(u.z,{variant:"secondary",disabled:!0,children:"..."}),(0,n.jsx)(u.z,{variant:"secondary",onClick:()=>r(a),children:a})]}),(0,n.jsx)(u.z,{variant:"ghost",disabled:e>=a,onClick:()=>r(e+1),children:(0,n.jsx)(g.ol,{})})]})}var E=a(84780),F=a.n(E);function y(t){let{max:e=100,variant:a="primary",...r}=t,o=i()(F().wrapper,{[F().primary]:"primary"===a,[F().warning]:"warning"===a});return(0,n.jsx)("progress",{className:o,max:e,...r})}var R=a(22804),k=a(48719),P=a(22506),A=a.n(P);let D=(0,v.forwardRef)((t,e)=>{let{label:a,isInvalid:r=!1,helperText:o,...s}=t,c=i()(A().wrapper,{[A().is_invalid]:r});return(0,n.jsxs)("div",{className:c,children:[(0,n.jsx)("label",{children:a}),(0,n.jsx)("textarea",{ref:e,...s}),!!o&&(0,n.jsx)("p",{children:o})]})});D.displayName="Textarea";var z=a(22814),O=a(18253),T=a.n(O);function U(t){let{position:e="bottom",title:a,description:r,className:o}=t,s=i()(o,T().root,{[T().position_left]:"left"===e,[T().position_right]:"right"===e,[T().position_bottom]:"bottom"===e,[T().position_top]:"top"===e,[T().position_top_left]:"top-left"===e,[T().position_top_center]:"top-center"===e,[T().position_top_right]:"top-right"===e});return(0,n.jsxs)("div",{className:s,children:[(0,n.jsx)(g.sC,{}),(0,n.jsx)("div",{className:T().overlay,children:(0,n.jsxs)("div",{className:T().box,children:[(0,n.jsxs)("p",{className:T().title,children:[(0,n.jsx)(g.sC,{})," ",a]}),(0,n.jsx)("p",{className:T().description,children:r})]})})]})}},22174:function(t,e,a){"use strict";a.d(e,{B5:function(){return m},Fk:function(){return i},IJ:function(){return S},K7:function(){return c},NB:function(){return p},NX:function(){return s},XU:function(){return l},h2:function(){return v},pC:function(){return u}});let r=new URLSearchParams({utm_source:"portaldoclientehavan",utm_medium:"referral"}),n=new URLSearchParams(r);n.append("utm_content","bannerhome");let o=n.toString(),i="https://havan.page.link/kgNQ?".concat(o),s="https://havan.page.link/1Xcp?".concat(o),c="https://www.havan.com.br/ofertas?".concat(o),l="https://blog.havan.com.br/pro-seu-bolso/organizacao-financeira?".concat(o),u="".concat("https://negociacao.havan.com.br","?").concat(o),_=r.toString(),m="https://www.havan.com.br/ofertas?".concat(_),d=new URLSearchParams(r);d.append("utm_content","bannerhome");let h=d.toString();"".concat("https://blog.havan.com.br","?").concat(h);let f=new URLSearchParams(r);f.append("utm_content","menufooter");let p=f.toString(),C=new URLSearchParams(r);C.append("utm_content","bannernewsletter");let v=C.toString(),g=new URLSearchParams(r);g.append("utm_content","trabalhe-conosco"),g.toString();let S="".concat("https://negociacao.havan.com.br","?").concat(_)},66885:function(t,e,a){"use strict";var r,n;a.d(e,{c:function(){return r}}),(n=r||(r={}))[n.Inexistente=0]="Inexistente",n[n.Com_Cartao_Inativo_Bloqueado=1]="Com_Cartao_Inativo_Bloqueado",n[n.Com_Cartao_Inativo_Fatura_Aberta_Com_Senha_Digital=2]="Com_Cartao_Inativo_Fatura_Aberta_Com_Senha_Digital",n[n.Com_Cartao_Inativo_Fatura_Aberta_Sem_Senha_Digital=3]="Com_Cartao_Inativo_Fatura_Aberta_Sem_Senha_Digital",n[n.Com_Cartao_Sem_Senha_Digital=4]="Com_Cartao_Sem_Senha_Digital",n[n.Com_Cartao_Com_Senha_Digital=5]="Com_Cartao_Com_Senha_Digital",n[n.Com_Restricao=6]="Com_Restricao",n[n.Sem_Cartao_Com_Senha_Digital=7]="Sem_Cartao_Com_Senha_Digital"},15050:function(t,e,a){"use strict";var r,n;a.d(e,{X:function(){return r}}),(n=r||(r={}))[n.Create=0]="Create",n[n.Reset=1]="Reset"},2012:function(t,e,a){"use strict";a.d(e,{default:function(){return _}});var r=a(57437),n=a(87770),o=a(41208),i=a(61339),s=a(29827),c=a(3204),l=a(25535);let u=new i.S;function _(t){let{children:e}=t;return(0,r.jsxs)(s.aH,{client:u,children:[(0,r.jsx)(o.y,{baseColor:"#F3F8FF",highlightColor:"#E8F1FF",children:(0,r.jsxs)(n.FN.Provider,{children:[(0,r.jsx)(n.OJ,{children:(0,r.jsx)(l.Ho,{children:e})}),(0,r.jsx)(n.FN.Viewport,{})]})}),(0,r.jsx)(c.t,{initialIsOpen:!1,buttonPosition:"bottom-left"})]})}},96961:function(){},88568:function(t){t.exports={body:"global_body__598aw"}}},function(t){t.O(0,[3112,4657,4162,3194,9074,3028,5924,7198,6373,9763,8003,269,3692,2971,2117,1744],function(){return t(t.s=19687)}),_N_E=t.O()}]);